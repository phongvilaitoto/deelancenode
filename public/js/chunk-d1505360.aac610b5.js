(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1505360"],{"7b12":function(t,e,r){},a048:function(t,e,r){"use strict";var a=r("7b12"),i=r.n(a);i.a},c43b:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-col",{staticClass:"mx-auto",attrs:{cols:"12",xs:"12",sm:"10",md:"8",lg:"8"}},[r("v-breadcrumbs",{attrs:{items:t.items},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])}),r("v-card",{staticClass:"__card"},[r("v-card-title",{staticClass:"__card-title justify-center"},[r("p",[t._v(" ເພີ່ມ Portfolio")])]),r("hr"),r("v-col",{staticClass:" mx-auto",attrs:{cols:"10"}},[r("ValidationObserver",{ref:"observer",attrs:{slim:""},scopedSlots:t._u([{key:"default",fn:function(e){e.invalid;return[r("v-form",{staticClass:"text-center",on:{submit:function(e){return e.preventDefault(),t.addPortfolio(e)}}},[r("h2",{staticClass:"font-weight-bold"},[t._v("ຂໍ້ມູນຂອງ Portfolio")]),r("div",{staticClass:"uploader mb-5",class:{dragging:t.isDragging},on:{dragenter:t.OnDragEnter,dragleave:t.OnDragLeave,dragover:function(t){t.preventDefault()},drop:t.onDrop}},[r("i",{staticClass:"fas fa-cloud-upload-alt fa-3x"}),r("p",[t._v("ລາກຮູບມາໄວ້ບ່ອນນີ້...")]),r("div",[t._v("ຫຼື")]),r("div",{staticClass:"file-input"},[r("label",{attrs:{for:"file"}},[t._v("ເລືອກຮູບ")]),r("input",{attrs:{type:"file",id:"file",multiple:""},on:{change:t.onInputChange}})]),r("v-row",t._l(t.images,(function(e,a){return r("v-col",{key:a,attrs:{cols:"4",xs:"4",sm:"4",md:"3",lg:"3"}},[r("div",{staticClass:"image-wrapper"},[r("v-img",{staticClass:"text-right",attrs:{width:"90",height:"90",src:e,alt:"Image Uploader "+a}},[r("i",{staticClass:"i fas fa-backspace mr-1 red--text",on:{click:function(e){return t.spliceImage(a)}}})])],1)])})),1)],1),r("ValidationProvider",{attrs:{mode:"lazy",name:"ຫົວຂໍ້",rules:"required|between: 4, 50"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("v-text-field",{attrs:{label:"ຫົວຂໍ້",outlined:"",clearable:"","error-messages":a},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{mode:"lazy",name:"ລາຍລະອຽດ",rules:"required|between: 10, 2000"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("ckeditor",{attrs:{editor:t.editor},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a?r("p",{staticClass:"error--text"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)}),r("ValidationProvider",{attrs:{mode:"lazy",name:"ປະເພດ",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("v-select",{attrs:{items:t.categories,"item-text":"name","item-value":"_id","menu-props":{top:!0,offsetY:!0},label:"ປະເພດ",outlined:"","error-messages":a},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})]}}],null,!0)}),r("v-btn",{staticClass:"v-size--x-large success",attrs:{type:"submit"}},[t._v(" ເພີ່ມ Portfolio ")])],1)]}}])})],1)],1)],1)},i=[],s=(r("a4d3"),r("e01a"),r("4de4"),r("4160"),r("a630"),r("a434"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("3ca3"),r("466d"),r("159b"),r("96cf"),r("89ba")),n=r("2fa7"),o=r("2f62"),c=r("7bb1"),l=r("4c93"),u=r("2b0e"),d=r("3730"),f=r.n(d),p=r("fb3d"),m=r.n(p);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}u["a"].use(f.a),Object(c["c"])("required",v({},l["c"],{message:"ກະລຸນາປ້ອນຂໍ້ມູນໃນ {_field_}"})),Object(c["c"])("between",{validate:function(t,e){var r=e.min,a=e.max,i=t&&t.length;return i>=r&&i<=a},params:["min","max"],message:"ຂໍ້ມູນ {_field_} ຕ້ອງມີຄວາມຍາວລະຫວ່າງ {min} ຫາ {max} ຕົວອັກສອນ"});var h={components:{ValidationProvider:c["b"],ValidationObserver:c["a"]},data:function(){return{editor:m.a,select:"",title:"",description:"",categories:[],files:[],images:[],isDragging:!1,dragCount:0,items:[{text:"Dashboard",to:{name:"Dashboard"},exact:!0},{text:"Post portfolio"}]}},computed:v({},Object(o["c"])(["auth"])),methods:{OnDragEnter:function(t){t.preventDefault(),this.dragCount++,this.isDragging=!0},OnDragLeave:function(t){t.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},onInputChange:function(t){var e=this,r=t.target.files;Array.from(r).forEach((function(t){return e.addImage(t)}))},onDrop:function(t){var e=this;t.preventDefault(),t.stopPropagation();var r=t.dataTransfer.files;Array.from(r).forEach((function(t){return e.addImage(t)}))},addImage:function(t){var e=this;if(t.type.match("image.*")){this.files.push(t);var r=new FileReader;r.onload=function(t){return e.images.push(t.target.result)},r.readAsDataURL(t)}else this.$swal({title:"File ຕ້ອງເປັນຮູບພາບ",type:"error",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3})},spliceImage:function(t){this.files.splice(t,1),this.images.splice(t,1)},fetchCategories:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get("category/getall");case 3:e=t.sent,r=e.data.categories,this.categories=r,t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](0),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),addPortfolio:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$refs.observer.validate();case 3:if(e=t.sent,!e){t.next=21;break}if(!(this.files.length>0)){t.next=20;break}return r=new FormData,this.files.forEach((function(t){r.append("images",t)})),r.append("title",this.title),r.append("description",this.description),r.append("userId",this.auth._id),r.append("categoryId",this.select),t.next=14,this.$axios.post("portfolio/post",r);case 14:a=t.sent,this.$router.push({name:"Dashboard"}),this.$swal({title:"ເພີ່ມ Portfolio ແລ້ວ",type:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),this.$io.emit("postPortfolio",a.data.portfolio),t.next=21;break;case 20:this.$swal({title:"ກະລູນາເລືອກຮູບ",type:"error",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3});case 21:t.next=26;break;case 23:throw t.prev=23,t.t0=t["catch"](0),new Error(t.t0);case 26:case"end":return t.stop()}}),t,this,[[0,23]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.fetchCategories()}},b=h,w=(r("a048"),r("2877")),x=r("6544"),y=r.n(x),C=r("2bc5"),O=r("8336"),_=r("b0af"),D=r("99d9"),k=r("62ad"),P=r("4bd4"),j=r("132d"),V=r("adda"),I=r("0fd9"),E=r("b974"),$=r("8654"),S=Object(w["a"])(b,a,i,!1,null,"034b9194",null);e["default"]=S.exports;y()(S,{VBreadcrumbs:C["a"],VBtn:O["a"],VCard:_["a"],VCardTitle:D["c"],VCol:k["a"],VForm:P["a"],VIcon:j["a"],VImg:V["a"],VRow:I["a"],VSelect:E["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-d1505360.aac610b5.js.map