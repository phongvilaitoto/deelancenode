(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2df74e8a"],{"0081":function(t,e,i){},"0953":function(t,e,i){},"0e8f":function(t,e,i){"use strict";i("20f6");var s=i("e8f2");e["a"]=Object(s["a"])("flex")},"123d":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t=function(t,e){"function"===typeof t.scroll?t.scroll({top:t.scrollHeight,behavior:e?"smooth":"instant"}):t.scrollTop=t.scrollHeight},e={bind:function(e,i){var s=!1;e.addEventListener("scroll",(function(t){s=e.scrollTop+e.clientHeight+1<e.scrollHeight})),new MutationObserver((function(r){var a=i.value||{},n=!1===a.always&&s,o=r[r.length-1].addedNodes.length,l=r[r.length-1].removedNodes.length;if(a.scrollonremoved){if(n||1!=o&&1!=l)return}else if(n||1!=o)return;var c=a.smooth,d=!o&&1===l;d&&a.scrollonremoved&&"smoothonremoved"in a&&(c=a.smoothonremoved),t(e,c)})).observe(e,{childList:!0,subtree:!0})},inserted:function(e,i){var s=i.value||{};t(e,s.smooth)}},i={install:function(t,i){t.directive("chat-scroll",e)}};return"undefined"!==typeof window&&window.Vue&&window.Vue.use(i),i}))},"169a":function(t,e,i){"use strict";i("368e");var s=i("4ad4"),r=i("b848"),a=i("75eb"),n=i("e707"),o=i("e4d3"),l=i("21be"),c=i("f2e7"),d=i("a293"),u=i("80d2"),h=i("bfc5"),p=i("58df"),f=i("d9bd");const v=Object(p["a"])(s["a"],r["a"],a["a"],n["a"],o["a"],l["a"],c["a"]);e["a"]=v.extend({name:"v-dialog",directives:{ClickOutside:d["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(f["d"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):n["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$refs.content.focus(),this.bind()})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.activeZIndex>=this.getMaxZIndex()&&(this.isActive=!1)},onKeydown(t){if(t.keyCode===u["t"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t.length&&t[0].focus()}}},render(t){const e=[],i={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:this.onClickOutside,args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:t=>{t.stopPropagation()}},style:{}};this.fullscreen||(i.style={maxWidth:"none"===this.maxWidth?void 0:Object(u["f"])(this.maxWidth),width:"auto"===this.width?void 0:Object(u["f"])(this.width)}),e.push(this.genActivator());let s=t("div",i,this.showLazyContent(this.getContentSlot()));return this.transition&&(s=t("transition",{props:{name:this.transition,origin:this.origin}},[s])),e.push(t("div",{class:this.contentClasses,attrs:{role:"document",tabindex:this.isActive?0:void 0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(h["a"],{props:{root:!0,light:this.light,dark:this.dark}},[s])])),t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},e)}})},"1f09":function(t,e,i){},3129:function(t,e,i){"use strict";i("1f09");var s=i("c995"),r=i("24b2"),a=i("7560"),n=i("58df"),o=i("80d2");e["a"]=Object(n["a"])(s["a"],r["a"],a["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?this.boilerplate?{}:{"aria-busy":!0,"aria-live":"polite",role:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return Boolean(!Object(o["p"])(this)||this.loading)},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(t,e){return this.$createElement("div",{staticClass:`v-skeleton-loader__${t} v-skeleton-loader__bone`},e)},genBones(t){const[e,i]=t.split("@"),s=()=>this.genStructure(e);return Array.from({length:i}).map(s)},genStructure(t){let e=[];t=t||this.type||"";const i=this.rootTypes[t]||"";if(t===i);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);i.indexOf(",")>-1?e=this.mapBones(i):i.indexOf("@")>-1?e=this.genBones(i):i&&e.push(this.genStructure(i))}return[this.genBone(t,e)]},genSkeleton(){const t=[],e=Object(o["p"])(this);return this.isLoading?t.push(this.genStructure()):t.push(e),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{enter:t=>{this.isLoading&&(t.style.transition="none")},beforeLeave:t=>{t.style.display="none"}}},t):t},mapBones(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)}},render(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"368e":function(t,e,i){},"4b23":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fixed mx-auto",style:t.$vuetify.breakpoint.smAndDown?"height: calc(100vh - 168px)":""},[i("v-card",{staticClass:"card-header-message pa-5",attrs:{outlined:"",tile:"",align:"left"}},[i("b",[t._v("OrderID: "+t._s(t.currentOrder.quotation.orderId))])]),t.loading?i("v-card",{staticClass:"body-fixed card-body-message",attrs:{tile:"",outlined:""}},[i("app-message-loading")],1):i("v-lazy",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1},expression:"{ always: false }"}],staticClass:" body-fixed ",attrs:{options:{threshold:.5},"min-height":"200",transition:"fade-transition"}},[i("v-card",{staticClass:"pa-5 card-body-message",attrs:{outlined:"",tile:""}},t._l(t.chat.messages,(function(e,s){return i("div",{key:s},[e.from!==t.auth._id?i("div",{staticClass:"msg-box receive"},[i("div",{staticClass:"receive-msg"},[i("v-avatar",{attrs:{height:"48"}},[i("v-img",{attrs:{src:t.auth._id===t.currentOrder.freelancerId._id?t.$server+t.currentOrder.employerId.image:t.$server+t.currentOrder.freelancerId.image}})],1),e.image?i("p",[i("v-img",{attrs:{contain:"","max-width":"200",src:t.$server+e.image,"lazy-src":t.$server+e.image},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{size:"60",indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!0)}),i("v-spacer"),i("span",[t._v(t._s(e.message))])],1):e.message?i("p",[t._v(t._s(e.message))]):t._e(),"quotation"===e.type?i("p",[i("v-card",{staticClass:"pa-2"},[i("div",{staticClass:"mx-5 my-5"},[i("b",[t._v(" ໃບສະເໜີລາຄາ ")]),i("br"),i("small",{staticClass:"mb-5"},[t._v(" "+t._s(t.currentOrder.portfolioId.title))]),i("br"),i("b",[t._v("ລາຄາ")]),i("span",{staticClass:"primary--text"},[t._v(" "+t._s(e.orderId.quotation.price.toLocaleString())+" ")]),i("b",[t._v("ກີບ")]),i("app-detail-quotation-modal",{attrs:{auth:t.auth,order:e.orderId,currentOrder:t.currentOrder}})],1)])],1):t._e()],1)]):i("div",{staticClass:"msg-box send"},[i("div",{staticClass:"send-msg"},[e.image?i("p",[i("v-img",{attrs:{contain:"","max-width":"200",src:t.$server+e.image,"lazy-src":t.$server+e.image},on:{click:function(e){t.index=s}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{size:"60",indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!0)}),i("span",[t._v(t._s(e.message))])],1):e.message?i("p",[t._v(t._s(e.message))]):t._e(),"quotation"===e.type?i("p",[i("v-card",{staticClass:"pa-2"},[i("div",{staticClass:"mx-5 my-5"},[i("b",[t._v(" ໃບສະເໜີລາຄາ ")]),i("br"),i("small",{staticClass:"mb-5"},[t._v(" "+t._s(t.currentOrder.portfolioId.title))]),i("br"),i("b",[t._v("ລາຄາ")]),i("span",{staticClass:"primary--text"},[t._v(" "+t._s(e.orderId.quotation.price.toLocaleString())+" ")]),i("b",[t._v("ກີບ")]),i("app-detail-quotation-modal",{attrs:{auth:t.auth,order:e.orderId,currentOrder:t.currentOrder}})],1)])],1):t._e()]),i("v-spacer")],1)])})),0)],1),t.base64?i("v-card",{attrs:{outlined:"",tile:""}},[i("div",{staticClass:"text-left"},[i("v-img",{staticClass:"ma-1",staticStyle:{border:"1px solid white"},attrs:{contain:"","max-width":"100","max-height":"100",src:t.base64}},[i("v-icon",{staticClass:"error--text mb-2",staticStyle:{cursor:"pointer"},attrs:{size:"30"},on:{click:function(e){t.base64="",t.file=""}}},[t._v(" mdi-cancel")])],1)],1)]):t._e(),i("v-card",{staticClass:"card-input-message",attrs:{outlined:"",tile:""}},[i("v-row",{staticClass:"pa-2",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"text-right",attrs:{cols:"1",xs:"1",sm:"1",md:"1",lg:"1"}},[i("div",{staticClass:"icon"},[i("label",{attrs:{for:"file"}},[i("v-icon",{staticStyle:{"margin-top":"5px"},attrs:{size:t.$vuetify.breakpoint.smAndDown?37:40}},[t._v("mdi-camera")])],1),i("a",{staticClass:"file-input"},[i("input",{attrs:{type:"file",id:"file"},on:{change:t.imgUpload}})])])]),i("v-col",{staticClass:"mx-auto",attrs:{cols:"10",xs:"8",sm:"8",md:"10",lg:"10"}},[i("v-form",{on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[i("v-text-field",{staticClass:"mx-2",attrs:{rounded:"","hide-details":"",solo:"",placeholder:"ພິມຂໍ້ຄວາມ..."},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1),i("v-col",{attrs:{cols:"1",xs:"1",sm:"1",md:"1",lg:"1"}},[i("div",{staticClass:"icon",on:{click:t.sendMessage}},[i("v-icon",{staticStyle:{"margin-top":"3px"},attrs:{size:t.$vuetify.breakpoint.smAndDown?37:40}},[t._v("mdi-send")])],1)])],1)],1),i("v-overlay",{attrs:{value:t.overlay}},[i("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"70"}})],1)],1)},r=[],a=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("96cf"),i("89ba")),n=i("2fa7"),o=i("2b0e"),l=i("123d"),c=i.n(l),d=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{width:"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("a",t._g({staticClass:"primary--text ma-3"},s),[i("span",{staticStyle:{"text-decoration":"underline"}},[t._v("ລາຍລະອຽດໃບສະເໜີລາຄາ")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("ລາຍລະອຽດໃບສະເໜີລາຄາ ")])]),i("v-card-text",[i("p",[i("b",[t._v("ວັນທີ່ ")]),t._v(t._s(t.$moment(t.order.quotation.createdAt).format("DD/MM/YY")))]),i("v-divider"),i("br"),i("p",[i("b",[t._v("orderID:")]),t._v(" "+t._s(t.order.quotation.orderId))]),i("v-layout",[i("v-flex",[i("p",[i("b",[t._v("ໃບສະເໜີລາຄາຂອງ")]),t._v(" "+t._s(t.currentOrder.freelancerId._id===t.order.freelancerId?t.currentOrder.freelancerId.username:t.currentOrder.employerId.username)+" ")])]),i("v-flex",[i("p",[i("b",[t._v("ຜູ້ວ່າຈ້າງ")]),t._v(" "+t._s(t.currentOrder.freelancerId._id===t.order.freelancerId?t.currentOrder.employerId.username:t.currentOrder.freelancerId.username)+" ")])])],1),i("v-card",[i("v-card-title",{staticClass:"primary white--text"},[t._v("ລາຍລະອຽດ")]),i("v-card-text",[i("br"),i("p",[t._v(t._s(t.currentOrder.portfolioId.title))]),i("p",[t._v(" - "+t._s(t.currentOrder.quotation.information))])]),i("v-divider"),i("v-card-actions",{staticClass:"white justify-end"},[i("span",{staticClass:"mx-2 my-2"},[i("b",[t._v("ລາຄາ: ")]),t._v(" "+t._s(Number(t.order.quotation.price.toFixed(1)).toLocaleString())+" "),i("b",[t._v("ກີບ ")])])])],1),i("br"),i("b",[t._v("ໃຊ້ເວລາເຮັດ:")]),i("p",[t._v(" "+t._s(t.order.quotation.dayWork)+" ມື້")]),i("b",[t._v("ສິ່ງທີ່ລູກຄ້າຈະໄດ້ຮັບ:")]),i("p",[t._v(t._s(t.order.quotation.receive))]),i("b",[t._v("ໝາຍເຫດ:")]),i("p",[t._v(t._s(t.order.quotation.optional))]),t.auth._id===t.order.employerId?i("div",[i("v-btn",{staticClass:"primary",attrs:{to:{name:"Payment",params:{id:t.order.quotation.orderId}},block:""}},[t._v(" ຊໍາລະເງິນ")]),i("small",[t._v("* ເມື່ອທ່ານຊໍາລະເງິນຜ່ານລະບົບແລ້ວ Freelance ຈະເລີ່ມເຮັດວຽກທັນທີ")])],1):i("div",[i("small",[t._v("* ລໍຖ້າຜູ້ວ່າຈ້າງຊໍາລະເງິນໃຫ້ລະບົບສໍາເລັດ ແລ້ວເລີ່ມເຮັດວຽກໄດ້ທັນທີ")])])],1)],1)],1)],1)},h=[],p={props:["auth","order","currentOrder"],data:function(){return{dialog:!1}}},f=p,v=i("2877"),m=i("6544"),g=i.n(m),b=i("8336"),y=i("b0af"),_=i("99d9"),x=i("169a"),w=i("ce7e"),O=i("0e8f"),C=i("a722"),k=i("0fd9"),$=Object(v["a"])(f,u,h,!1,null,null,null),S=$.exports;g()($,{VBtn:b["a"],VCard:y["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDialog:x["a"],VDivider:w["a"],VFlex:O["a"],VLayout:C["a"],VRow:k["a"]});var j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(6,(function(t){return i("v-row",{key:t.index,staticClass:"mx-auto ma-5"},[i("v-col",{attrs:{cols:"5"}},[i("v-sheet",{staticClass:"ml-5"},[i("v-skeleton-loader",{attrs:{t:t,type:"sentences"}})],1)],1),i("v-col",{attrs:{cols:"2"}}),i("v-col",{attrs:{cols:"5"}},[i("v-sheet",{staticClass:"mr-5"},[i("v-skeleton-loader",{staticClass:"mt-12",attrs:{type:"sentences"}})],1)],1)],1)})),1)},I=[],B=i("62ad"),V=i("8dd9"),A=i("3129"),L={},E=Object(v["a"])(L,j,I,!1,null,null,null),D=E.exports;function z(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?z(i,!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):z(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}g()(E,{VCol:B["a"],VRow:k["a"],VSheet:V["a"],VSkeletonLoader:A["a"]}),o["a"].use(c.a);var M={components:{appDetailQuotationModal:S,appMessageLoading:D},data:function(){return{base64:"",file:"",input:"",typing:!1,chat:{messages:[]},from:"",to:"",index:null,loading:!1,overlay:!1,isActive:!0,list:["ee","oo","fff","fffgg","ee","oo","fff","fffgg","ee","oo","fff","fffgg"]}},computed:T({},Object(d["c"])(["auth","currentOrder"])),methods:T({},Object(d["b"])(["fetchCurrentOrder"]),{sendMessage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.input.length<=200&&0!==this.input.length||this.file)){t.next=23;break}return this.auth._id===this.currentOrder.employerId._id&&(this.from=this.currentOrder.employerId._id,this.to=this.currentOrder.freelancerId._id),this.auth._id===this.currentOrder.freelancerId._id&&(this.from=this.currentOrder.freelancerId._id,this.to=this.currentOrder.employerId._id),this.file&&(this.overlay=!0),this.file||this.chat.messages.push({message:this.input,from:this.from,to:this.to,orderId:this.currentOrder._id}),e=new FormData,e.append("message",this.input),e.append("from",this.from),e.append("to",this.to),e.append("orderId",this.currentOrder._id),e.append("image",this.file),this.input="",this.base64="",this.typing=!1,t.next=17,this.$axios.post("message/send",e);case 17:i=t.sent,s=i.data.messages,this.overlay=!1,this.file&&this.chat.messages.push(s),this.file="",this.$io.emit("message",s);case 23:t.next=28;break;case 25:throw t.prev=25,t.t0=t["catch"](0),new Error(t.t0);case 28:case"end":return t.stop()}}),t,this,[[0,25]])})));function e(){return t.apply(this,arguments)}return e}(),fetchMessage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$axios.get("message/user-message",{params:{orderId:this.$route.params.id}});case 3:e=t.sent,this.chat.messages=e.data.messages,setTimeout((function(){i.loading=!1}),200);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),imgUpload:function(t){var e=this,i=t.target.files[0],s=new FileReader;i["size"]<2e6?(s.onloadend=function(t){e.base64=t.target.result},s.readAsDataURL(i),this.file=i):this.$swal({title:"ຮູບພາບຂະໜາດໃຫຍ່ເກີນໄປ",toast:!0,type:"error",position:"top-end",showConfirmButton:!1,timer:2e3})}}),watch:{"$route.params":{handler:function(t){var e=t.id;this.fetchCurrentOrder(e),this.fetchMessage(e)},immediate:!0}},mounted:function(){var t=this;this.$io.on("message",(function(e){var i=e.orderId;i._id===t.currentOrder._id&&t.chat.messages.push(e)})),this.$io.on("update-message",(function(){return t.fetchMessage(t.currentOrder._id)}))}},q=M,P=(i("d2e1"),i("f04e"),i("bab9"),i("8212")),N=i("4bd4"),F=i("132d"),H=i("adda"),R=i("f2e7"),W=i("90a2"),Z=i("58df"),U=i("80d2"),J=Object(Z["a"])(R["a"]).extend({name:"VLazy",directives:{intersect:W["a"]},props:{minHeight:[Number,String],options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},transition:{type:String,default:"fade-transition"}},computed:{styles(){return{minHeight:parseInt(this.minHeight)?Object(U["f"])(this.minHeight):this.minHeight}}},methods:{genContent(){const t=Object(U["p"])(this);if(!this.transition)return t;const e=[];return this.isActive&&e.push(t),this.$createElement("transition",{props:{name:this.transition}},e)},onObserve(t,e,i){this.isActive||(this.isActive=i)}},render(t){return t("div",{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}}),K=i("a797"),Y=i("490a"),Q=i("2fa4"),G=i("8654"),X=Object(v["a"])(q,s,r,!1,null,"e000ba00",null);e["default"]=X.exports;g()(X,{VAvatar:P["a"],VCard:y["a"],VCol:B["a"],VForm:N["a"],VIcon:F["a"],VImg:H["a"],VLazy:J,VOverlay:K["a"],VProgressCircular:Y["a"],VRow:k["a"],VSpacer:Q["a"],VTextField:G["a"]})},"4bd4":function(t,e,i){"use strict";var s=i("58df"),r=i("7e2b"),a=i("3206");e["a"]=Object(s["a"])(r["a"],Object(a["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>{return t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0})},i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))}):i.valid=e(t),i},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const i=this.watchers.find(t=>t._uid===e._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"62ad":function(t,e,i){"use strict";i("4b85");var s=i("2b0e"),r=i("d9f7"),a=i("80d2");const n=["sm","md","lg","xl"],o=(()=>{return n.reduce((t,e)=>{return t[e]={type:[Boolean,String,Number],default:!1},t},{})})(),l=(()=>{return n.reduce((t,e)=>{return t["offset"+Object(a["x"])(e)]={type:[String,Number],default:null},t},{})})(),c=(()=>{return n.reduce((t,e)=>{return t["order"+Object(a["x"])(e)]={type:[String,Number],default:null},t},{})})(),d={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function u(t,e,i){let s=t;if(null!=i&&!1!==i){if(e){const i=e.replace(t,"");s+=`-${i}`}return"col"!==t||""!==i&&!0!==i?(s+=`-${i}`,s.toLowerCase()):s.toLowerCase()}}const h=new Map;e["a"]=s["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},justifySelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:i,children:s,parent:a}){let n="";for(const r in e)n+=String(e[r]);let o=h.get(n);if(!o){let t;for(t in o=[],d)d[t].forEach(i=>{const s=e[i],r=u(t,i,s);r&&o.push(r)});const i=o.some(t=>t.startsWith("col-"));o.push({col:!i||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf,[`justify-self-${e.justifySelf}`]:e.justifySelf}),h.set(n,o)}return t(e.tag,Object(r["a"])(i,{class:o}),s)}})},8894:function(t,e,i){},a722:function(t,e,i){"use strict";i("20f6");var s=i("e8f2");e["a"]=Object(s["a"])("layout")},bab9:function(t,e,i){"use strict";var s=i("0953"),r=i.n(s);r.a},d2e1:function(t,e,i){"use strict";var s=i("8894"),r=i.n(s);r.a},e8f2:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("2b0e");function r(t){return s["a"].extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:i,data:s,children:r}){s.staticClass=`${t} ${s.staticClass||""}`.trim();const{attrs:a}=s;if(a){s.attrs={};const t=Object.keys(a).filter(t=>{if("slot"===t)return!1;const e=a[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(s.staticClass+=` ${t.join(" ")}`)}return i.id&&(s.domProps=s.domProps||{},s.domProps.id=i.id),e(i.tag,s,r)}})}},f04e:function(t,e,i){"use strict";var s=i("0081"),r=i.n(s);r.a}}]);
//# sourceMappingURL=chunk-2df74e8a.5afb4f85.js.map